<%@ page language="java" import="java.util.*" import="com.myehr.common.util.LangUtil" pageEncoding="UTF-8"%>
<%@ include file="/common/cardcommon.jsp" %>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<body style="text-align:center">
<form id="form_2983" name="form_2983" style="margin-bottom:50px" >
<div class="container-fluid" style="overflow-y:auto;">
	<div class="my_card" style="margin-top:5px;">
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_ENAME_2983" name="EMPEMPLOYEE_ENAME" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_SUPVISOR_2983" name="EMPEMPLOYEE_SUPVISOR" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_FUNSUPVISOR_2983" name="EMPEMPLOYEE_FUNSUPVISOR" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983" name="EMPEMPLOYEE_EMPSTATUS" type="hidden" class="form-control"  emptyText=""  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPKIND_2983" name="EMPEMPLOYEE_EMPKIND" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPGROUP1_2983" name="EMPEMPLOYEE_EMPGROUP1" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPGROUP2_2983" name="EMPEMPLOYEE_EMPGROUP2" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPGROUP3_2983" name="EMPEMPLOYEE_EMPGROUP3" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPGROUP4_2983" name="EMPEMPLOYEE_EMPGROUP4" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPGROUP5_2983" name="EMPEMPLOYEE_EMPGROUP5" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPGRADE_2983" name="EMPEMPLOYEE_EMPGRADE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPLEVEL_2983" name="EMPEMPLOYEE_EMPLEVEL" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_RECTYPE_2983" name="EMPEMPLOYEE_RECTYPE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_WORKCITY_2983" name="EMPEMPLOYEE_WORKCITY" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_COMPYEARADJUST_2983" name="EMPEMPLOYEE_COMPYEARADJUST" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_BEGINWORKDATE_2983" name="EMPEMPLOYEE_BEGINWORKDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_WORKYEARADJUST_2983" name="EMPEMPLOYEE_WORKYEARADJUST" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_JOBBEGINDATE_2983" name="EMPEMPLOYEE_JOBBEGINDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PROBBEGINDATE_2983" name="EMPEMPLOYEE_PROBBEGINDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PROBTERM_2983" name="EMPEMPLOYEE_PROBTERM" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PROBENDDATE_2983" name="EMPEMPLOYEE_PROBENDDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PROBCHECKENDDATE_2983" name="EMPEMPLOYEE_PROBCHECKENDDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PRACBEGINDATE_2983" name="EMPEMPLOYEE_PRACBEGINDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PRACTERM_2983" name="EMPEMPLOYEE_PRACTERM" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PRACENDDATE_2983" name="EMPEMPLOYEE_PRACENDDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_LEAVEAPPLYDATE_2983" name="EMPEMPLOYEE_LEAVEAPPLYDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_LEAVEDATE_2983" name="EMPEMPLOYEE_LEAVEDATE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_LEAVETYPE_2983" name="EMPEMPLOYEE_LEAVETYPE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_LEAVEREASON_2983" name="EMPEMPLOYEE_LEAVEREASON" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_ISBLACKLIST_2983" name="EMPEMPLOYEE_ISBLACKLIST" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_COUNTRY_2983" name="EMPEMPLOYEE_COUNTRY" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_NATION_2983" name="EMPEMPLOYEE_NATION" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_ORIGIN_2983" name="EMPEMPLOYEE_ORIGIN" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_CERTTYPE_2983" name="EMPEMPLOYEE_CERTTYPE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_CERTNO_2983" name="EMPEMPLOYEE_CERTNO" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_GENDER_2983" name="EMPEMPLOYEE_GENDER" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_BIRTHDAY_2983" name="EMPEMPLOYEE_BIRTHDAY" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_BIRTHDAYPLACE_2983" name="EMPEMPLOYEE_BIRTHDAYPLACE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_HOMEADDRESS_2983" name="EMPEMPLOYEE_HOMEADDRESS" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_RESIDENTTYPE_2983" name="EMPEMPLOYEE_RESIDENTTYPE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_RESIDENTADDRESS_2983" name="EMPEMPLOYEE_RESIDENTADDRESS" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_WORKEMAIL_2983" name="EMPEMPLOYEE_WORKEMAIL" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_WORKPHONE_2983" name="EMPEMPLOYEE_WORKPHONE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PESEMAIL_2983" name="EMPEMPLOYEE_PESEMAIL" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_PESPHONE_2983" name="EMPEMPLOYEE_PESPHONE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_MOBILE_2983" name="EMPEMPLOYEE_MOBILE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_MARRIAGESTATUS_2983" name="EMPEMPLOYEE_MARRIAGESTATUS" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_HEALTHSTATUS_2983" name="EMPEMPLOYEE_HEALTHSTATUS" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_BLOODTYPE_2983" name="EMPEMPLOYEE_BLOODTYPE" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_CHILDSTATUS_2983" name="EMPEMPLOYEE_CHILDSTATUS" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_CHILDS_2983" name="EMPEMPLOYEE_CHILDS" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_QQ_2983" name="EMPEMPLOYEE_QQ" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
<input id="EMP_EMPLOYEE.EMPEMPLOYEE_WECHART_2983" name="EMPEMPLOYEE_WECHART" type="hidden" class="form-control"  style="width:200px; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
		<div class='row cell'>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"员工ID")%>: </lable><input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983" name="EMPEMPLOYEE_EMPID" type="text" class="form-control"  emptyText=""  vtype="illegalChar;maxLength:10;minLength:null;" illegalChar;maxLength:10;minLength:null;ErrorText=""  style="width:200px;height:; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"工号")%>: </lable><input id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983" name="EMPEMPLOYEE_EMPCODE" type="text" class="form-control"  emptyText=""  vtype="illegalChar;maxLength:50;minLength:null;" illegalChar;maxLength:50;minLength:null;ErrorText=""  style="width:200px;height:; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"姓名")%>: </lable><input id="EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983" name="EMPEMPLOYEE_CNAME" type="text" class="form-control"  emptyText=""  vtype="illegalChar;maxLength:200;minLength:null;" illegalChar;maxLength:200;minLength:null;ErrorText=""  style="width:200px;height:; float:left"/><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"公司")%>: </lable>						<select id="EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983" title="<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"公司")%>" styleType="select" name="EMPEMPLOYEE_COMPID"  class="form-control " emptyText=""  style="float:left;width:200px;" textField="text" valueField="id" DictName="" dataField="data_form_47546"initParam = "session_compid"></select><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"部门")%>: </lable>						<select id="EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983" title="<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"部门")%>" styleType="select" name="EMPEMPLOYEE_DEPID"  class="form-control " emptyText=""  style="float:left;width:200px;" textField="text" valueField="id" DictName="" dataField="data_form_47547"initParam = "session_depid"></select><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"岗位")%>: </lable>						<select id="EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983" title="<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"岗位")%>" styleType="select" name="EMPEMPLOYEE_JOBID"  class="form-control " emptyText=""  style="float:left;width:200px;" textField="text" valueField="id" DictName="" dataField="data_form_47548"initParam = "session_jobid"></select><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"在岗状态")%>: </lable>						<select id="EMP_EMPLOYEE.EMPEMPLOYEE_JOBSTATUS_2983" title="<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"在岗状态")%>" styleType="select" name="EMPEMPLOYEE_JOBSTATUS"  class="form-control " emptyText=""  style="float:left;width:200px;" textField="dictName" valueField="dictId" DictName="Onduty" dataField="dicts_form_47552"initParam = "session_jobstatus"></select><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"员工类型")%>: </lable>						<select id="EMP_EMPLOYEE.EMPEMPLOYEE_EMPTYPE_2983" title="<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"员工类型")%>" styleType="select" name="EMPEMPLOYEE_EMPTYPE"  class="form-control " emptyText=""  style="float:left;width:200px;" textField="dictName" valueField="dictId" DictName="EMP_EMPTYPE" dataField="dicts_form_47553"initParam = "_"></select><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
<div class="ui search selection dropdown entitybox field-control" style="display: inline-block;">
<lable style="float:left"><%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"入行日期")%>: </lable>
					<div class='controls input-append date form_date1 input-group' data-date=""  data-link-field="dtp_input2" data-link-format="yyyy-mm-dd" style="float:left;margin-top:5px;width: 134px;">
						<input type='text' readonly class="form-control " dateType="controls input-append date form_date1" id="EMP_EMPLOYEE.EMPEMPLOYEE_JOINDATE_2983" styleType="dateTime"   style="width:134px;float:left;" name="EMPEMPLOYEE_JOINDATE"  format="yyyy-MM-dd" valueformat="yyyy-MM-dd" />
							<span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
							<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
					</div><span style='color:red;line-height:35px;font-size:27px'></span>
</div>
</div>
		</div>
		<div class="BTNGROUP BTNGROUP_2983" style="margin:5px auto; display:inline-block;height: 30px;z-index: 6;position: relative">
			<div style="margin-right:10px;display:inline-block">
			    <input type="button" id="submit_formPT_certification"  class="btn btn-success" value=<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"提交")%> onclick="submit2()"/>
			</div>
		</div>
<div id="activity_pane" style="position:absolute;left:500px;top:70px;"></div>
</div>
</div>
</form>
<div class="container-fluid">
	<div style="margin-top:20px;">
		<div class="wrapper wrapper-content animated fadeInRight ibox-content2" style="overflow-y:auto">
			<div class="row dark-timeline" id="approveList">
			</div>
		</div>
	</div>
</div>
<script>
var parame={
				id:'',
				value:"N",
				width: "100px",  
				height:"45px",
				url:'${pageContext.request.contextPath }/dict/searchSysDictEntryTypeCode.action?userId=${sessionScope.userid}',
				jsonParam:{},
				formType:'${param.formType}',
				chang:function (e){
					var aaa = e;
				}
};

var containerParam ={};
containerParam ={};
$(function () {  
if('isView'=='${param.isView}'){
	$('input,select,textarea').each(function(){
		$(this).attr('disabled',"true");
		$(this).css('border','none');
		if($(this).attr('styletype')=='dateTime'){
			$(this).next().css('display',"none");
			$(this).next().next().css('display',"none");
			var width = $(this).width()+90;
			$(this).css('width',width+'px');
		}
	});
	$(".BTNGROUP_2983").css("display","none");
}
			$('.form_date1').datetimepicker({ 
			 language:  'zh-CN',  
			 format:"yyyy-mm-dd",  
			 weekStart: 1,  
			 todayBtn:  1,  
			 autoclose: 1,  
			 todayHighlight: 1,  
			 startView: 2,  
			 minView: 2,  
			 forceParse: 0,  
			 pickerPosition: "bottom-left"  
			});  
			$('.form_date2').datetimepicker({ 
			 language:  'zh-CN',  
			 format:"yyyy-mm-dd hh:ii",  
			 weekStart: 1,  
			 todayBtn:  1,  
			 autoclose: 1,  
			 todayHighlight: 1,  
			 startView: 2,  
			 minView: 0,  
			 forceParse: 0,  
			 pickerPosition: "bottom-left"  
			});  
			$('.form_date3').datetimepicker({ 
			 language:  'zh-CN',  
			 format:"hh:ii",  
			 weekStart: 1,  
			 todayBtn:  1,  
			 autoclose: 1,  
			 todayHighlight: 1,  
			 startView: 0,  
			 minView: 2,  
			 forceParse: 0,  
			 pickerPosition: "bottom-left"  
			});  
			$('.form_date4').datetimepicker({ 
			 language:  'zh-CN',  
			 format:"yyyy/mm/dd",  
			 weekStart: 1,  
			 todayBtn:  1,  
			 autoclose: 1,  
			 todayHighlight: 1,  
			 startView: 2,  
			 minView: 2,  
			 forceParse: 0,  
			 pickerPosition: "bottom-left"  
			});  
			$('.form_date5').datetimepicker({ 
			 language:  'zh-CN',  
			 format:"yyyymm",  
			 weekStart: 1,  
			 todayBtn:  1,  
			 autoclose: 1,  
			 todayHighlight: 1,  
			 startView: 3,  
			 minView: 3,  
			 forceParse: 0,  
			 pickerPosition: "bottom-left"  
			});  
});
function getdata_2983(buttonId,formId){
			var param = {};
			var data = {buttonId:buttonId,formId:formId,param:{},paramsMap:{}};
			$.map($('[name=form_'+formId+']').serializeArray(), function(item, index){
				var property =item['name'];
				var value = item['value'];
				param[property] = value;
			});
			data.param = param;
		return data;
}
	function formatDatebox(value,key) {
		  if(value!=null){
			 var type = document.getElementById(key).getAttribute("dateType");
			 type = type.substr(type.length-1,1);
		    var year=value.substr(0,4);
		    var index1=value.indexOf("-");
		    var index2=value.lastIndexOf("-");
		    var d1=parseInt(index2)-(parseInt(index1)+1);
		    var month=value.substr((parseInt(index1)+1),d1);
		    var kg=value.indexOf(" ");
		    d2=parseInt(kg)-parseInt(index2);
		    var day=value.substr(parseInt(index2)+1,d2);
		    var mh=value.indexOf(":");
		    d3=parseInt(mh)-(parseInt(kg)+1);
		    var hh=value.substr(parseInt(kg)+1,d3);
		    var mh2=value.lastIndexOf(":");
		    d4=parseInt(mh2)-(parseInt(mh)+1);
		    var mm=value.substr(parseInt(mh)+1,d4);
		    var mh2=value.lastIndexOf(":");
		    var ss=value.substr(parseInt(mh2)+1);
		    if(type == 1){
			        return year+"-"+month+"-"+day;
		    }else if(type == 2){
			        return year+"-"+month+"-"+day+" "+hh+":"+mm;
		    }else if(type == 3){
			        return hh+":"+mm;
		    }else if(type == 4){
			        return year+"/"+month+"/"+day;
		    }else if(type == 5){
			        return year+month;
		    }
		  }
	}
function _initParamCard(){
}
var containerParam={};
	var _formId_2983='2983';
	window.onload=function(){
	var classes = [];
		if('${param.formType}'=='APP'){
			$("input").each(function(){
				if($(this).attr('dataField') != undefined){
					classes.push($(this)[0]);
				}
			})
		}else{
			classes = $("select");
		}
	for(var i=0;i<classes.length;i++){
		parame.id=classes[i].id;
		var type=$(classes[i]).attr('multiSelect');
		var dataField=$(classes[i]).attr('dataField');
		parame.placeholder="";
		parame.jsonParam.nullItemText=$(classes[i]).attr('nullItemText');
		parame.jsonParam.dictTypeCode=$(classes[i]).attr('DictName');
		if(type=="true"){
			myehr_initSelectMore(parame,dataField,containerParam);
		}else{
			myehr_initSelect(parame,dataField,containerParam);
		}
	}

		var value = '2';
			    var id = 'EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983';
if($("[id='EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983']").attr("styleType")=="dateTime"){
		if(value.indexOf(":") > -1){
			if(value.indexOf("-") > -1){
			 	document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983").value=formatDatebox(value,id);
			}else{
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983").value=value;
			}
		}else{
			if(value==null || value==""|| value=="null"){
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983").value=value;
			}else{
			    var date = new Date(parseInt(value)).Format("yyyy-MM-dd hh:mm:ss");
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983").value = formatDatebox(date,id);
			}
		}
}else{
		document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPID_2983").value=value
}
;
		var value = 'E02';
			    var id = 'EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983';
if($("[id='EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983']").attr("styleType")=="dateTime"){
		if(value.indexOf(":") > -1){
			if(value.indexOf("-") > -1){
			 	document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983").value=formatDatebox(value,id);
			}else{
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983").value=value;
			}
		}else{
			if(value==null || value==""|| value=="null"){
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983").value=value;
			}else{
			    var date = new Date(parseInt(value)).Format("yyyy-MM-dd hh:mm:ss");
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983").value = formatDatebox(date,id);
			}
		}
}else{
		document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPCODE_2983").value=value
}
;
		var value = '李四';
			    var id = 'EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983';
if($("[id='EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983']").attr("styleType")=="dateTime"){
		if(value.indexOf(":") > -1){
			if(value.indexOf("-") > -1){
			 	document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983").value=formatDatebox(value,id);
			}else{
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983").value=value;
			}
		}else{
			if(value==null || value==""|| value=="null"){
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983").value=value;
			}else{
			    var date = new Date(parseInt(value)).Format("yyyy-MM-dd hh:mm:ss");
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983").value = formatDatebox(date,id);
			}
		}
}else{
		document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_CNAME_2983").value=value
}
;
		var value = '2';
			    var id = 'EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983';
if($("[id='EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983']").attr("styleType")=="dateTime"){
		if(value.indexOf(":") > -1){
			if(value.indexOf("-") > -1){
			 	document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983").value=formatDatebox(value,id);
			}else{
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983").value=value;
			}
		}else{
			if(value==null || value==""|| value=="null"){
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983").value=value;
			}else{
			    var date = new Date(parseInt(value)).Format("yyyy-MM-dd hh:mm:ss");
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983").value = formatDatebox(date,id);
			}
		}
}else{
		document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_COMPID_2983").value=value
}
;
		var value = '10';
			    var id = 'EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983';
if($("[id='EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983']").attr("styleType")=="dateTime"){
		if(value.indexOf(":") > -1){
			if(value.indexOf("-") > -1){
			 	document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983").value=formatDatebox(value,id);
			}else{
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983").value=value;
			}
		}else{
			if(value==null || value==""|| value=="null"){
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983").value=value;
			}else{
			    var date = new Date(parseInt(value)).Format("yyyy-MM-dd hh:mm:ss");
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983").value = formatDatebox(date,id);
			}
		}
}else{
		document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_DEPID_2983").value=value
}
;
		var value = '5';
			    var id = 'EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983';
if($("[id='EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983']").attr("styleType")=="dateTime"){
		if(value.indexOf(":") > -1){
			if(value.indexOf("-") > -1){
			 	document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983").value=formatDatebox(value,id);
			}else{
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983").value=value;
			}
		}else{
			if(value==null || value==""|| value=="null"){
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983").value=value;
			}else{
			    var date = new Date(parseInt(value)).Format("yyyy-MM-dd hh:mm:ss");
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983").value = formatDatebox(date,id);
			}
		}
}else{
		document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_JOBID_2983").value=value
}
;
		var value = '2';
			    var id = 'EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983';
if($("[id='EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983']").attr("styleType")=="dateTime"){
		if(value.indexOf(":") > -1){
			if(value.indexOf("-") > -1){
			 	document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983").value=formatDatebox(value,id);
			}else{
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983").value=value;
			}
		}else{
			if(value==null || value==""|| value=="null"){
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983").value=value;
			}else{
			    var date = new Date(parseInt(value)).Format("yyyy-MM-dd hh:mm:ss");
				document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983").value = formatDatebox(date,id);
			}
		}
}else{
		document.getElementById("EMP_EMPLOYEE.EMPEMPLOYEE_EMPSTATUS_2983").value=value
}
;

approveList();	}

function submit2(buttonType){
	if(buttonType=='通过'){
		content = "<textarea id='approveRemark' rows='7' cols='63' ></textarea>";
	}else if(buttonType=='驳回'){
		content = "<div style='margin-bottom:10px'><select id='rejectType' ><option value ='previousNode'>驳回到上节点</option><option value ='startUser'>驳回到发起人</option><option value ='free'>自由选择节点</option></select></div>";
		content += "<textarea id='approveRemark' rows='7' cols='63' ></textarea>";
	}else{
		saveData(buttonType,'','');
		return;
	}
	layer.open({
		title:'请填写审批意见',
		shadeClose: true,
		zIndex:9999,
		content: content,
		area: ['500px', '300px'],
		btn: ['确定', '取消'],
		yes:function(index, layero){
			var approveRemark=document.getElementById("approveRemark").value;
			var rejectType;
			if(buttonType=='驳回'){
				rejectType=document.getElementById("rejectType").value;
			}
			layer.close(index);
			saveData(buttonType,approveRemark,rejectType);
		},
	})
}
function saveData(buttonType,approveRemark,rejectType){
	var paramsMap = {};
	var _param = {};
	_param.formId=_formId_2983;
	_param.buttonId=3619;
	_param = getdata_2983(_param.buttonId,_formId_2983);
	_param.paramsMap = paramsMap;
	$.ajax({
		url:'${pageContext.request.contextPath }/form/saveButtonSave.action',
		type:'post',
		data: JSON.stringify(_param),
		cache: false,
		contentType: 'application/json;charset=utf-8',
		success: function (text) {
			if(text[0]!=0){
				alert("<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"保存失败！")%>");
			}else if(text[0]=='error'){
				alert("<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"操作异常")%>");
			}else {
				submit5(_param.buttonId,buttonType,approveRemark,rejectType);
			}
		}
	});
}
function submit3(){
	var paramsMap = {};
	var _param = {};
	_param.formId=_formId_2983;
	_param.buttonId=3619;
	_param = getdata_2983(_param.buttonId,_formId_2983);
	_param.paramsMap = paramsMap;
	_param.actFlowParams= {key:'${param.key}'};
	$.ajax({
		url:'${pageContext.request.contextPath }/act/task/start.action',
		type:'post',
		data: JSON.stringify(_param),
		cache: false,
		contentType: 'application/json;charset=utf-8',
		success: function (text) {
			if(text[0]==0){
				alert("<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"保存失败！")%>");
			}else if(text[0]=='error'){
				alert("<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"操作异常")%>");
			}else {
				alert("<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"操作成功")%>");
				closex_2983()
			}
		}
	});
}
function submit5(buttonId,buttonType,approveRemark,rejectType){
	var flowAction = '${param.flowAction}';
	if(flowAction=='start'){
		submit3(buttonId);
	}else{
		submit4(buttonId,buttonType,approveRemark,rejectType);
	}
}
	function checkNull(id){
		var xxx = "";
		var flag = false;
		$(id).find("input,select").each(function(){
			if($(this).attr('required')!=undefined&&$(this).attr('required')=='required'){
				if($(this).val()==""){
					$(this).css('border-color','red');
					$(this).attr("placeholder","<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"此项不能为空")%>");
					flag = true;
				}else{
					$(this).css('border-color','#000');
				}
			}
			var bb=$(this).val();
			var vtype=$(this).attr('vtype');
			var vtypes= new Array();
			if(vtype!=null&&vtype!=undefined){
				vtypes=vtype.split(";");
				var re=new RegExp("[^?!@#$%\^&*()]+$");
				var errorText = "<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"包含非法字符")%>";
				if (bb !="" && bb!=null) {
					if(vtypes[0].indexOf("letter")==0){
						re = new RegExp("^[a-zA-Z\_]+$");//自定义英文
						errorText = "<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"请输入正确的英文")%>";
					}
					if(vtypes[0].indexOf("zh")==0){
						re = new RegExp("^[\u4e00-\u9fa5]+$");//自定义中文
						errorText = "<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"请输入正确的中文")%>";
					}
					if(vtypes[0].indexOf("chinaMobile")==0){
						re = /1\d{10}/;//自定义手机号码
						errorText = "<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"请输入正确的手机号码")%>";
					}
					if(vtypes[0].indexOf("chinaZipcode")==0){
						re = /[1-9]{1}(\d+){5}/;//自定义邮政编码
						errorText = "<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"请输入正确的英文")%>";
					}
					if(vtypes[0].indexOf("chinaIDNo")==0){
						re = /^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/;//自定义身份证号码
						errorText = "<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"请输入正确的身份证号码")%>";
					}
					if(vtypes[0].indexOf("email")==0){
						re = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;//自定义邮箱
						errorText = "<%=LangUtil.getLangByCode((String)session.getAttribute("langType"),"请输入正确的邮箱")%>";
					}
					if (re.test(bb)) {
					}else{
						$(this).val('');
						$(this).css('border-color','red');
						$(this).attr("placeholder",errorText);
						flag = true
					}
				}
			}
		})
		return flag;
	}
	function _initData(pkId){
		var _param = {};
		if(pkId){
			if('${param.businessId}'!=null && '${param.businessId}'!=''){
				_param = {requestParam:{},pkId:pkId,formId:_formId_2983};
			}else{;
				_param = {pkId:pkId,formId:_formId_2983};
			}
		}else {
			if('${param.businessId}'!=null && '${param.businessId}'!=''){
				_param = {requestParam:{EMPID:'${param.businessId}'},pkId:pkId,formId:_formId_2983};
			}else{;
				_param = {requestParam:{},pkId:pkId,formId:_formId_2983};
			}
		}
		_param.containerParam = containerParam;
		var _form = getForm("#form_2983");
		var _Type = getType("#form_2983");
		$.ajax({
			url:'${pageContext.request.contextPath }/form/cardformInitData.action',
			type:'post',
			data: JSON.stringify(_param),
			cache: false,
			contentType: 'application/json;charset=utf-8',
			success: function (text) {
				if(text.rows&&text.rows.length>0){
						 var object = text.rows[0];
						 for(var key in object){
								if(_form[key]!=null&&_form[key]!="undefined"){
										if(_Type[key]=="dateTime" && object[key]!=null){
												date = object[key]+"";
												if(date.indexOf(":") > 0){
										    		date = object[key];
												}else{
										    		if(object[key]==null || object[key]==""){
														date = object[key]
													}else{
														date = new Date(object[key]).Format("yyyy-MM-dd hh:mm:ss");
													}
												}
												document.getElementById(_form[key]).value=formatDatebox(date,_form[key]);
												}else if(_Type[key]=="search" && object[key]!=null){
												$("[id='"+_form[key]+"']").selectpicker('val', object[key]);
												}else if(_Type[key]=="mupick" && object[key]!=null){
												var xxx=(object[key]+"").split(",");
												$("[id='"+_form[key]+"']").selectpicker('val', xxx);
										}else{
												document.getElementById(_form[key]).value=object[key];
										}
								}
						}
						;
					
					if("undefined" != typeof mstTab_activechanged ){
						mstTab_activechanged();}
				} else {
					_initAfter();
				}
			},
			error: function (jqXHR, textStatus, errorThrown) {
			}
		});
	}
function animationHover(element, animation) {
    element = $(element);
    element.hover(
        function () {
            element.addClass('animated ' + animation);
        },
        function () {
            //动画完成之前移除class
            window.setTimeout(function () {
                element.removeClass('animated ' + animation);
            }, 2000);
        });
}

function approveList(){
	var procInsId = '${param.procInsId}';
	$.ajax({
		url:'/myehr/act/task/queryApproveList.action?procInsId='+procInsId,
		type:'post',
		contentType: 'application/json;charset=utf-8',
        cache: false,
		success: function (text) {
			showDate(text)
		}
	});
}

function showDate(arr) {
    for (var i = arr.length - 1; i >= 0; i--) {
	     var message = arr[i].MESSAGE;
	     var messages = new Array();
	     messages = message.split("|");
	     if(messages.length<2){
	         messages[1]=message;
	     }
	     var iconClass;
	     if(messages[0]=="通过"){
	         iconClass='vertical-timeline-icon';
	     }else{
	         iconClass='vertical-timeline-icon1';
	     }
		 var cellObj = $('<div class="vertical-timeline-block">'+
						'    <div class="'+iconClass+'"></div>'+
						'    <div class="vertical-timeline-content clearfix">'+
						'        <div class="pic fl" style="float:left">'+
						'            <img src="http://p.3761.com/pic/43701399945993.png" alt="">'+
						'            <div id="shenpiren" class="shenpirens">'+arr[i].USER_NAME+'</div>'+
						'        </div>'+
						'        <div class="content fl">'+
						'            <div class="clearfix"></div>'+
						'		     <div class="shenpizhuangtai">'+messages[1]+'</div>'+
						'	     </div>'+
						'	     <div class="clearfix"></div>'+
						'    </div>'+
						'    <div id="shenpijieguo" class="shenpijieguo">'+
						'        <div id="shenpishijian" style="font-weight:bold;float:left" class="shenpishijian">'+arr[i].ENDTIME+'</div>'+
						'        <div id="shenpijiedian" style="font-weight:bold;float:left" class="shenpijiedian">'+arr[i].ACTNAME+'</div>'+
						'        <div id="shenpiyijian" style="font-weight:bold;float:left" class="shenpiyijian">'+messages[0]+'</div>'+
						'    </div>'+
						'</div>'
		);
		$('#approveList').append(cellObj);
	}
}


function submit4(buttonId,buttonType,approveRemark,rejectType){
    var flowAction = '${param.flowAction}'
    if(flowAction=='start'){
	     var paramsMap = {};
	     var _param = {};
	     _param.formId=2983;
	     _param.buttonId=buttonId;
	     _param = getdata_2983(_param.buttonId,_param.formId);
	     _param.paramsMap = paramsMap;
	     _param.actFlowParams= {key:'${param.key}'};
	     $.ajax({
		     url:'/myehr/act/task/start.action',
		     type:'post',
		     data: JSON.stringify(_param),
		     cache: false,
		     contentType: 'application/json;charset=utf-8',
		     success: function (text) {
			     if(text[0]==0){
				     alert("保存失败！");
			     }else if(text[0]=='error'){
				     alert("操作异常");
			     }else {
				     alert("操作成功");
				     closex_2983();
			     }
		     }
	     });
    }else{
	     var paramsMap = {};
	     var _param = {};
	     _param.formId=2983;
	     _param.buttonId=buttonId;
	     _param = getdata_2983(_param.buttonId,_param.formId);
	     _param.paramsMap = paramsMap;
	     _param.actFlowParams= {taskId:'${param.taskId}',procInsId:'${param.procInsId}',buttonType:buttonType,approveRemark:approveRemark,rejectType:rejectType};
	     $.ajax({
		     url:'/myehr/act/task/complete.action',
		     type:'post',
		     data: JSON.stringify(_param),
		     cache: false,
		     contentType: 'application/json;charset=utf-8',
		     success: function (text) {
			     if(text[0]==0){
				     alert("保存失败！");
			     }else if(text[0]=='error'){
				     alert("操作异常");
			     }else {
				     alert("操作成功");
				     closex_2983();
			     }
		     }
	     });
    }
}
function approveChange(){
	var objS = document.getElementById("EMP_EMPLOYEE.APPROVE_TYPE");
    var value = objS.options[objS.selectedIndex].value;
	if(value=='approveReject'){
		document.getElementById("EMP_EMPLOYEE.REJECT_TYPE").disabled=false;
	}else{
		document.getElementById("EMP_EMPLOYEE.REJECT_TYPE").disabled=true;
		document.getElementById("EMP_EMPLOYEE.REJECT_TYPE").value="";
	}	
}
function rejectChange(){
	 var objS = document.getElementById("EMP_EMPLOYEE.REJECT_TYPE");
    var value = objS.options[objS.selectedIndex].value;
	 if(value=='free'){
		var paramsMap = {};
		var _param = {};
		var approveType = document.getElementById("EMP_EMPLOYEE.APPROVE_TYPE").value;
		var rejectType = document.getElementById("EMP_EMPLOYEE.REJECT_TYPE").value;
		var bz = document.getElementById("bz").value;
		_param.formId=${param.formId};
		_param.buttonId='';
		_param.paramsMap = paramsMap;
		_param.actFlowParams= {taskId:'${param.taskId}',procInsId:'${param.procInsId}',approveType:approveType,rejectType:rejectType,bz:bz};
		$.ajax({
			url:'/myehr/act/task/freeTask.action',
			type:'post',
			data: JSON.stringify(_param),
			cache: false,
			contentType: 'application/json;charset=utf-8',
			success: function (text) {
				var html = '';
				var opationhtml = '';
				for (var i=0;i<text.length;i++){
					opationhtml+="<option value =\""+text[i].actId+"\">"+text[i].actName+"</option>";
				}
				html+="<select id=\"EMP_EMPLOYEE.REJECT_TASK\" disabled=\"false\" title=\"驳回节点\" styleType=\"select\" name=\"REJECT_TASK\"  class=\"form-control\" style=\"width:200px;height:25px;\">"+opationhtml+"</select>";
				$("#solutionList").html(html);
				document.getElementById("EMP_EMPLOYEE.REJECT_TASK").disabled=false;
			}
		});
	}else{
		document.getElementById("EMP_EMPLOYEE.REJECT_TASK").disabled=true;
		document.getElementById("EMP_EMPLOYEE.REJECT_TASK").value="";
	}
}
	//唯一验证
	function uniqueVerifyBlur(obj){ 
	    var id = obj.id;
	    var strs= new Array();
	    strs= id.split("\.");
	    var tableName= strs[0];
	    strs= strs[1].split("_");
	    var fieldName= strs[0];
	    var value = document.getElementById(id).value;
	    var pkId = document.getElementById("EMP_EMPLOYEE.EMPID_2983").value;
	    $.ajax({ 
		       url:'/myehr/form/checkUniqueVerify.action?tableName='+tableName+'&fieldName='+fieldName+'&value='+value+'&pkId='+pkId+'&pkFieldName=EMPID',
	        type:'post',
			   cache: false,
			   contentType: 'application/json;charset=utf-8',
			   success: function (text) {
				   if(text[0]=='1'){
					   obj.value='';
					   obj.style['border-color']='red';
					   obj.setAttribute("placeholder",text[1]);
				   }
				   if(text[0]=='0'){
					   obj.style['border-color']='#CCC';
				   }
			   }
		   });
	}
	//关闭
	function closex_2983(){ 
			    var index = parent.layer.getFrameIndex(window.name); //获取当前窗体索引
			    parent.layer.close(index);//执行关闭
	}
	function getForm(formId){
					var object=[];
						$(formId).find("input").each(function(){
								var xxx = this.id.split(".")[1];
								if(xxx!=undefined){
									var xx = xxx.split("_");
									var arr = [];
									var id = "";
									for(var i=0;i<xx.length-1;i++){
										if(i<xx.length-2){
											id = id+xx[i]+"_";
										}else{
											id = id+xx[i];
										}
									}
								object[id]=this.id;
									}
						})
						$(formId).find("select").each(function(){
								var xxx = this.id.split(".")[1];
								if(xxx!=undefined){
									var xx = xxx.split("_");
									var arr = [];
									var id = "";
									for(var i=0;i<xx.length-1;i++){
										if(i<xx.length-2){
											id = id+xx[i]+"_";
										}else{
											id = id+xx[i];
										}
									}
								object[id]=this.id;
									}
						})
						return object;
			}
	function getType(formId){
					var object=[];
							$(formId).find("input").each(function(){
							var vtype = $(this).attr('format');
							if(vtype!=undefined){
								var xxx = this.id.split(".")[1];
									var xx = xxx.split("_");
									var arr = [];
									var id = "";
									for(var i=0;i<xx.length-1;i++){
										if(i<xx.length-2){
											id = id+xx[i]+"_";
										}else{
											id = id+xx[i];
										}
									}
								object[id]="dateTime";
							}
							})
				$(formId).find("select").each(function(){
					var vtype = $(this).attr('class')
					var xxx = this.id.split(".")[1];
					if(xxx!=undefined&&vtype.indexOf("selectpicker")!=-1){
						if($(this).attr('multiSelect')=="true"){
							var xx = xxx.split("_");
							var arr = [];
							var id = "";
							for(var i=0;i<xx.length-1;i++){
								if(i<xx.length-2){
									id = id+xx[i]+"_";
								}else{
									id = id+xx[i];
								}
							}
							object[id]="mupick";
						}else{
							var xx = xxx.split("_");
							var arr = [];
							var id = "";
							for(var i=0;i<xx.length-1;i++){
								if(i<xx.length-2){
									id = id+xx[i]+"_";
								}else{
									id = id+xx[i];
								}
							}
							object[id]="search";
						}
					}
				})
						return object;
			}
</script>
</body>
</html>
